import "@testing-library/jest-dom";
import { ExtFile, ExtFileInstance } from "../src/types/ExtFile";
import { extFileMock, extFileMockArray } from "../src/mocks/extFileMock";

test("check Ext File mocks are equal", () => {
    const extFileInstanceMock: ExtFileInstance = new ExtFileInstance(extFileMock(28));
    const extFileMockObject: ExtFile = extFileMock(28);

    expect(extFileInstanceMock.id).toEqual(
        extFileMockObject.id
    );
});

test("check ExtFile and ExtFileInstance have different number of keys", () => {
    const extFileInstanceMock: ExtFileInstance = new ExtFileInstance(extFileMock(28));
    const extFileMockObject: ExtFile = { ...extFileInstanceMock };

    expect(Object.keys(extFileMockObject).length).toEqual(
        Object.keys(extFileInstanceMock).length
    );
});

test("check ExtFile and ExtFileInstance.toExtFile() have same number of keys", () => {
    const extFileInstanceMock: ExtFileInstance = new ExtFileInstance(extFileMock());
    const extFileMockObject: ExtFile = extFileInstanceMock.toExtFile();

    expect(Object.keys(extFileMockObject).length).not.toEqual(
        Object.keys(extFileInstanceMock).length
    );
}); 


test("check ExtFile and ExtFileInstance have at least one valid url", () => {
    const extFileListMockObject: ExtFile[] = extFileMockArray();


    expect(ExtFileInstance.someValidUrl(extFileListMockObject)).toBeTruthy();
});